{"ast":null,"code":"import _regeneratorRuntime from\"/Users/olapejuomoseni/Test folder/course_work02/Strangers-Things/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/olapejuomoseni/Test folder/course_work02/Strangers-Things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/olapejuomoseni/Test folder/course_work02/Strangers-Things/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import Logout from\"../components/Logout\";import{userFunc}from\"../api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Profile=function Profile(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),content=_useState2[0],setContent=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),posts=_useState4[0],setPosts=_useState4[1];useEffect(function(){var displayUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var profileUser;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return userFunc();case 2:profileUser=_context.sent;console.log(profileUser);console.log(profileUser.messages);setContent(profileUser.messages);setPosts(profileUser.posts);case 7:case\"end\":return _context.stop();}}},_callee);}));return function displayUser(){return _ref.apply(this,arguments);};}();displayUser();},[]);var clickSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){var sendContent,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();sendContent=content.map(function(content){return content=content._id;});if(content.title==title&&content.fromUser.username||posts.username==!posts.username);console.log(content);_context2.next=6;return userFunc(sendContent);case 6:data=_context2.sent;case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function clickSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{id:\"profile\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Display Posts!\"})}),posts.map(function(post){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{id:\"profile-1\",children:[/*#__PURE__*/_jsx(\"h3\",{children:post.title}),/*#__PURE__*/_jsx(\"p\",{children:post.description}),/*#__PURE__*/_jsx(\"p\",{children:post.price}),/*#__PURE__*/_jsx(\"p\",{children:post.author.username}),/*#__PURE__*/_jsx(\"p\",{children:post.updatedAt})]})},post._id);}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Display Messages!\"})}),content.length===0?/*#__PURE__*/_jsx(\"div\",{children:\"You have no messages\"}):/*#__PURE__*/_jsxs(\"div\",{children:[content.map(function(content){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:content.post.title}),/*#__PURE__*/_jsx(\"p\",{children:content.fromUser.username}),/*#__PURE__*/_jsx(\"p\",{children:content.content})]})},content._id);}),\" \"]}),/*#__PURE__*/_jsx(\"h1\",{children:\"Messages\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:clickSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{title:\"message\",children:[\"Message:\",/*#__PURE__*/_jsx(\"input\",{className:\"text-box\",type:\"textbox\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",type:\"submit\",children:\"Submit\"})]}),/*#__PURE__*/_jsx(Link,{to:\"/posts\",className:\"btn btn-primary\",children:\"View posts\"}),/*#__PURE__*/_jsx(Logout,{})]});};export default Profile;","map":{"version":3,"names":["React","useState","useEffect","Link","Logout","userFunc","Profile","props","content","setContent","posts","setPosts","displayUser","profileUser","console","log","messages","clickSubmit","event","preventDefault","sendContent","map","_id","title","fromUser","username","data","post","description","price","author","updatedAt","length"],"sources":["/Users/olapejuomoseni/Test folder/course_work02/Strangers-Things/src/components/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Logout from \"../components/Logout\";\nimport { userFunc } from \"../api\";\n\nconst Profile = (props) => {\n    const [content, setContent] = useState([]);\n    const [posts, setPosts] = useState([]);\n\n    useEffect(() => {\n        const displayUser = async () => {\n            const profileUser = await userFunc()\n            console.log(profileUser);\n            console.log(profileUser.messages);\n            setContent(profileUser.messages);\n            setPosts(profileUser.posts);\n\n        }\n        displayUser();\n    }, []);\n\n    const clickSubmit = async (event) => {\n        event.preventDefault();\n        let sendContent = content.map(content => content=content._id); if( content.title == title && content.fromUser.username || posts.username ==! posts.username);\n        console.log(content);\n        const data = await userFunc(sendContent); \n    }\n\n    return (\n        <div id=\"profile\">\n            <div>\n                <h1>Display Posts!</h1>\n            </div>\n            {\n                posts.map(post => <div key={post._id}>\n                    <div id=\"profile-1\">\n                        <h3>{post.title}</h3>\n                        <p>{post.description}</p>\n                        <p>{post.price}</p>\n                        <p>{post.author.username}</p>\n                        <p>{post.updatedAt}</p>\n                    </div>\n                </div>)\n            }\n            <div>\n                <h1>Display Messages!</h1>\n            </div>\n            {content.length === 0 ? <div>You have no messages</div>: <div>{content.map(content => <div key={content._id}>\n                <div>\n                    <h3>{content.post.title}</h3>\n                    <p>{content.fromUser.username}</p>\n                    <p>{content.content}</p>\n                </div>\n            </div>)\n            } </div> \n        }\n            <h1>Messages</h1>\n            <form onSubmit={clickSubmit}>\n                <label title=\"message\">\n                    Message:\n                    <input className=\"text-box\" type=\"textbox\" />\n                </label>\n                <button className=\"button\" type=\"submit\">Submit</button>\n            </form>\n            <Link to=\"/posts\" className=\"btn btn-primary\">View posts</Link>\n            <Logout />\n        </div>\n\n    );\n};\n\n\nexport default Profile;\n"],"mappings":"kdAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,OAAP,KAAmB,sBAAnB,CACA,OAASC,QAAT,KAAyB,QAAzB,C,wFAEA,GAAMC,QAAO,CAAG,QAAVA,QAAU,CAACC,KAAD,CAAW,CACvB,cAA8BN,QAAQ,CAAC,EAAD,CAAtC,wCAAOO,OAAP,eAAgBC,UAAhB,eACA,eAA0BR,QAAQ,CAAC,EAAD,CAAlC,yCAAOS,KAAP,eAAcC,QAAd,eAEAT,SAAS,CAAC,UAAM,CACZ,GAAMU,YAAW,4FAAG,2KACUP,SAAQ,EADlB,QACVQ,WADU,eAEhBC,OAAO,CAACC,GAAR,CAAYF,WAAZ,EACAC,OAAO,CAACC,GAAR,CAAYF,WAAW,CAACG,QAAxB,EACAP,UAAU,CAACI,WAAW,CAACG,QAAb,CAAV,CACAL,QAAQ,CAACE,WAAW,CAACH,KAAb,CAAR,CALgB,sDAAH,kBAAXE,YAAW,0CAAjB,CAQAA,WAAW,GACd,CAVQ,CAUN,EAVM,CAAT,CAYA,GAAMK,YAAW,6FAAG,kBAAOC,KAAP,6IAChBA,KAAK,CAACC,cAAN,GACIC,WAFY,CAEEZ,OAAO,CAACa,GAAR,CAAY,SAAAb,OAAO,QAAIA,QAAO,CAACA,OAAO,CAACc,GAApB,EAAnB,CAFF,CAE+C,GAAId,OAAO,CAACe,KAAR,EAAiBA,KAAjB,EAA0Bf,OAAO,CAACgB,QAAR,CAAiBC,QAA3C,EAAuDf,KAAK,CAACe,QAAN,EAAiB,CAAEf,KAAK,CAACe,QAApF,CAA6F,CAC5JX,OAAO,CAACC,GAAR,CAAYP,OAAZ,EAHgB,uBAIGH,SAAQ,CAACe,WAAD,CAJX,QAIVM,IAJU,wEAAH,kBAAXT,YAAW,6CAAjB,CAOA,mBACI,aAAK,EAAE,CAAC,SAAR,wBACI,kCACI,sCADJ,EADJ,CAKQP,KAAK,CAACW,GAAN,CAAU,SAAAM,IAAI,qBAAI,kCACd,aAAK,EAAE,CAAC,WAAR,wBACI,oBAAKA,IAAI,CAACJ,KAAV,EADJ,cAEI,mBAAII,IAAI,CAACC,WAAT,EAFJ,cAGI,mBAAID,IAAI,CAACE,KAAT,EAHJ,cAII,mBAAIF,IAAI,CAACG,MAAL,CAAYL,QAAhB,EAJJ,cAKI,mBAAIE,IAAI,CAACI,SAAT,EALJ,GADc,EAAUJ,IAAI,CAACL,GAAf,CAAJ,EAAd,CALR,cAeI,kCACI,yCADJ,EAfJ,CAkBKd,OAAO,CAACwB,MAAR,GAAmB,CAAnB,cAAuB,6CAAvB,cAAwD,uBAAMxB,OAAO,CAACa,GAAR,CAAY,SAAAb,OAAO,qBAAI,kCAClF,oCACI,oBAAKA,OAAO,CAACmB,IAAR,CAAaJ,KAAlB,EADJ,cAEI,mBAAIf,OAAO,CAACgB,QAAR,CAAiBC,QAArB,EAFJ,cAGI,mBAAIjB,OAAO,CAACA,OAAZ,EAHJ,GADkF,EAAUA,OAAO,CAACc,GAAlB,CAAJ,EAAnB,CAAN,OAlB7D,cA2BI,gCA3BJ,cA4BI,cAAM,QAAQ,CAAEL,WAAhB,wBACI,eAAO,KAAK,CAAC,SAAb,mCAEI,cAAO,SAAS,CAAC,UAAjB,CAA4B,IAAI,CAAC,SAAjC,EAFJ,GADJ,cAKI,eAAQ,SAAS,CAAC,QAAlB,CAA2B,IAAI,CAAC,QAAhC,oBALJ,GA5BJ,cAmCI,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,CAAkB,SAAS,CAAC,iBAA5B,wBAnCJ,cAoCI,KAAC,MAAD,IApCJ,GADJ,CAyCH,CAhED,CAmEA,cAAeX,QAAf"},"metadata":{},"sourceType":"module"}