{"ast":null,"code":"import _slicedToArray from\"/Users/olapejuomoseni/Test folder/course_work02/Strangers-Things/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/olapejuomoseni/Test folder/course_work02/Strangers-Things/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/olapejuomoseni/Test folder/course_work02/Strangers-Things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useState}from\"react\";import{getAllPosts,addPosts,deletePosts,editPost}from\"../api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Posts=function Posts(props){var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var posts,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();posts={title:title,description:description,price:price};_context.next=4;return addPosts(posts);case 4:data=_context.sent;case 5:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var deleteSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){var id,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();posts.map(function(post){if(post.title==title){id=post._id;}});console.log(title);_context2.next=5;return deletePosts(id);case 5:data=_context2.sent;case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function deleteSubmit(_x2){return _ref2.apply(this,arguments);};}();var editSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(event){var data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:event.preventDefault();console.log('title, description, price',title,description,price);data=editPost();case 3:case\"end\":return _context3.stop();}}},_callee3);}));return function editSubmit(_x3){return _ref3.apply(this,arguments);};}();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),price=_useState6[0],setPrice=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),postId=_useState8[0],setPostId=_useState8[1];console.log('in post',{props:props});var posts=props.posts,setPosts=props.setPosts;return/*#__PURE__*/_jsxs(\"div\",{id:\"posts\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{children:\"Add post:\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Title:\",/*#__PURE__*/_jsx(\"input\",{className:\"text-box\",type:\"text\",name:\"title\",onChange:function onChange(event){setTitle(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Description:\",/*#__PURE__*/_jsx(\"input\",{className:\"text-box\",type:\"text\",name:\"title\",onChange:function onChange(event){setDescription(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Price:\",/*#__PURE__*/_jsx(\"input\",{className:\"text-box\",type:\"text\",name:\"title\",onChange:function onChange(event){setPrice(event.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",type:\"submit\",children:\"Submit\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:deleteSubmit,children:[/*#__PURE__*/_jsx(\"div\",{children:\"Delete post:\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Title:\",/*#__PURE__*/_jsx(\"input\",{className:\"text-box\",type:\"text\",name:\"title\",onChange:function onChange(event){setTitle(event.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",type:\"submit\",children:\"Submit\"})]}),/*#__PURE__*/_jsx(\"h1\",{id:\"post-title\",children:\"Posts\"}),posts.map(function(post){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{id:\"post-1\",children:[/*#__PURE__*/_jsx(\"h3\",{children:post.title}),/*#__PURE__*/_jsx(\"p\",{children:post.description}),/*#__PURE__*/_jsx(\"p\",{children:post.price}),/*#__PURE__*/_jsx(\"p\",{children:post.author.username}),/*#__PURE__*/_jsx(\"p\",{children:post.updatedAt}),/*#__PURE__*/_jsx(\"button\",{onClick:editSubmit,className:\"button\",children:\"Edit Post\"})]})},post._id);})]});};export default Posts;","map":{"version":3,"names":["React","useState","getAllPosts","addPosts","deletePosts","editPost","Posts","props","handleSubmit","event","preventDefault","posts","title","description","price","data","deleteSubmit","map","post","id","_id","console","log","editSubmit","setTitle","setDescription","setPrice","postId","setPostId","setPosts","target","value","author","username","updatedAt"],"sources":["/Users/olapejuomoseni/Test folder/course_work02/Strangers-Things/src/components/Posts.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { getAllPosts, addPosts, deletePosts, editPost } from \"../api\";\n\n\nconst Posts = (props) => {\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        const posts = {\n            title: title,\n            description: description,\n            price: price\n        }\n        const data = await addPosts(posts);\n    }\n\n    const deleteSubmit = async (event) => {\n        event.preventDefault();\n        let id\n        posts.map(post => {\n            if (post.title == title) {\n                id = post._id\n            }\n        })\n        console.log(title)\n        const data = await deletePosts(id);\n    }\n\n    const editSubmit = async (event) => {\n        event.preventDefault();\n        console.log('title, description, price', title, description, price);\n        const data = editPost();\n    }\n\n    const [title, setTitle] = useState('');\n    const [description, setDescription] = useState('');\n    const [price, setPrice] = useState('');\n    const [postId, setPostId] = useState(null);\n\n    console.log('in post', { props });\n    const { posts, setPosts } = props;\n    return (\n        <div id=\"posts\">\n            <form onSubmit={handleSubmit}>\n                <div>Add post:</div>\n                <label>\n                    Title:\n                    <input className=\"text-box\" type=\"text\" name=\"title\" onChange={(event) => {\n                        setTitle(event.target.value);\n                    }} />\n                </label>\n                <label>\n                    Description:\n                    <input className=\"text-box\" type=\"text\" name=\"title\" onChange={(event) => {\n                        setDescription(event.target.value);\n                    }} />\n                </label>\n                <label>\n                    Price:\n                    <input className=\"text-box\" type=\"text\" name=\"title\" onChange={(event) => {\n                        setPrice(event.target.value);\n                    }} />\n                </label>\n                <button className=\"button\" type=\"submit\">Submit</button>\n            </form>\n\n            <form onSubmit={deleteSubmit}>\n                <div>Delete post:</div>\n                <label>\n                    Title:\n                    <input className=\"text-box\" type=\"text\" name=\"title\" onChange={(event) => {\n                        setTitle(event.target.value);\n                    }} />\n                </label>\n                <button className=\"button\" type=\"submit\">Submit</button>\n            </form>\n            <h1 id=\"post-title\">Posts</h1>\n            {\n                posts.map(post => <div key={post._id}>\n                    <div id=\"post-1\">\n                        <h3>{post.title}</h3>\n                        <p>{post.description}</p>\n                        <p>{post.price}</p>\n                        <p>{post.author.username}</p>\n                        <p>{post.updatedAt}</p>\n                        <button onClick={editSubmit} className=\"button\">Edit Post</button>\n                    </div>\n                </div>)\n            }\n        </div>\n    )\n}\n\nexport default Posts;"],"mappings":"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"},"metadata":{},"sourceType":"module"}