{"ast":null,"code":"import _regeneratorRuntime from\"/Users/olapejuomoseni/Test folder/course_work02/Strangers-Things/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/olapejuomoseni/Test folder/course_work02/Strangers-Things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";export var BASE_URL=\"https://strangers-things.herokuapp.com/api/\";export var COHORT_NAME=\"2206-FTB-ET-WEB-FT-B\";export var API_URL=BASE_URL+COHORT_NAME;export var getAllPosts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"\".concat(API_URL,\"/posts\"));case 3:response=_context.sent;_context.next=6;return response.json();case 6:result=_context.sent;return _context.abrupt(\"return\",result.data.posts);case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function getAllPosts(){return _ref.apply(this,arguments);};}();export var addPosts=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(data){var response,result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;console.log(data);_context2.next=4;return fetch(\"\".concat(API_URL,\"/posts\"),{method:\"POST\",headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem('token'))},body:JSON.stringify({post:{title:data.title,description:data.description,price:data.price}})});case 4:response=_context2.sent;_context2.next=7;return response.json();case 7:result=_context2.sent;console.log('This is my result',result);_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[0,11]]);}));return function addPosts(_x){return _ref2.apply(this,arguments);};}();export var deletePosts=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(POST_ID){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return fetch(\"\".concat(API_URL,\"/posts/\").concat(POST_ID),{method:\"DELETE\",headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});case 3:response=_context3.sent;console.log(response);_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);console.error(_context3.t0);case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function deletePosts(_x2){return _ref3.apply(this,arguments);};}();export var userFunc=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){var response,result;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return fetch(\"\".concat(API_URL,\"/users/me\"),{headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});case 3:response=_context4.sent;_context4.next=6;return response.json();case 6:result=_context4.sent;console.log('This is it',result);return _context4.abrupt(\"return\",result.data);case 11:_context4.prev=11;_context4.t0=_context4[\"catch\"](0);console.error(_context4.t0);case 14:case\"end\":return _context4.stop();}}},_callee4,null,[[0,11]]);}));return function userFunc(){return _ref4.apply(this,arguments);};}();export var registerUser=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(user){var response,result;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return fetch(\"\".concat(API_URL,\"/users/register\"),{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify({user:user})});case 3:response=_context5.sent;_context5.next=6;return response.json();case 6:result=_context5.sent;console.log('This is my result',result);return _context5.abrupt(\"return\",result.data);case 11:_context5.prev=11;_context5.t0=_context5[\"catch\"](0);console.error(_context5.t0);case 14:case\"end\":return _context5.stop();}}},_callee5,null,[[0,11]]);}));return function registerUser(_x3){return _ref5.apply(this,arguments);};}();export var logInUser=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(user){var response,result;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return fetch(\"\".concat(API_URL,\"/users/login\"),{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify({user:user})});case 3:response=_context6.sent;_context6.next=6;return response.json();case 6:result=_context6.sent;console.log('This is my result',result);return _context6.abrupt(\"return\",result.data);case 11:_context6.prev=11;_context6.t0=_context6[\"catch\"](0);console.error(_context6.t0);case 14:case\"end\":return _context6.stop();}}},_callee6,null,[[0,11]]);}));return function logInUser(_x4){return _ref6.apply(this,arguments);};}();export var editPost=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(POST_ID){var response,result;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return fetch(\"\".concat(API_URL,\"/posts/\").concat(POST_ID),{method:\"PATCH\",headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem('token'))},body:JSON.stringify()});case 3:response=_context7.sent;console.log('My response',response);_context7.next=7;return response.json();case 7:result=_context7.sent;console.log('Result I want',result);return _context7.abrupt(\"return\",result.data);case 12:_context7.prev=12;_context7.t0=_context7[\"catch\"](0);console.error(_context7.t0);case 15:case\"end\":return _context7.stop();}}},_callee7,null,[[0,12]]);}));return function editPost(_x5){return _ref7.apply(this,arguments);};}();","map":{"version":3,"names":["BASE_URL","COHORT_NAME","API_URL","getAllPosts","fetch","response","json","result","data","posts","console","error","addPosts","log","method","headers","localStorage","getItem","body","JSON","stringify","post","title","description","price","deletePosts","POST_ID","userFunc","registerUser","user","logInUser","editPost"],"sources":["/Users/olapejuomoseni/Test folder/course_work02/Strangers-Things/src/api/index.js"],"sourcesContent":["export const BASE_URL = \"https://strangers-things.herokuapp.com/api/\";\nexport const COHORT_NAME = \"2206-FTB-ET-WEB-FT-B\";\nexport const API_URL = BASE_URL + COHORT_NAME;\n\nexport const getAllPosts = async () => {\n    try {\n\n        const response = await fetch(`${API_URL}/posts`);\n        const result = await response.json();\n        return result.data.posts;\n    } catch (error) {\n        console.error(error);\n    }\n}\n\nexport const addPosts = async (data) => {\n    try {\n        console.log(data);\n        const response = await fetch(`${API_URL}/posts`,{\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\n            },\n            body: JSON.stringify({\n                post: {\n                    title: data.title,\n                    description: data.description,\n                    price: data.price\n                }\n            }),\n        }) \n        const result = await response.json();\n        console.log('This is my result', result);\n        \n    } catch (error) {\n       console.error(error) \n    }\n\n}\n\nexport const deletePosts = async (POST_ID) => {\n    try {\n        const response = await fetch(`${API_URL}/posts/${POST_ID}`,{\n            method: \"DELETE\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\n            }\n        })\n        console.log(response)\n        \n    } catch (error) {\n       console.error(error) \n    }\n}\n\nexport const userFunc = async () => {\n    try {\n        const response = await fetch(`${API_URL}/users/me`, {\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\n            },\n        })\n        const result = await response.json();\n        console.log('This is it', result);\n        return result.data;\n        \n    } catch (error) {\n       console.error(error) \n    }\n}\n\nexport const registerUser = async (user) => {\n    try {\n        const response = await fetch(`${API_URL}/users/register`, {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                user\n            })\n        })\n        const result = await response.json();\n        console.log('This is my result', result);\n        return result.data;\n\n    } catch (error) {\n        console.error(error);\n    }\n} \n\nexport const logInUser = async (user) => {\n    try {\n        const response = await fetch(`${API_URL}/users/login`, {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                user\n            })\n        })\n        const result = await response.json();\n        console.log('This is my result', result);\n        return result.data;\n        \n    } catch (error) {\n        console.error(error);\n    }\n}\n\nexport const editPost = async (POST_ID) => {\n    try {\n        const response = await fetch(`${API_URL}/posts/${POST_ID}`, {\n            method: \"PATCH\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\n            },\n            body: JSON.stringify() \n        });\n        console.log('My response', response);\n        const result= await response.json();\n        console.log('Result I want', result);\n        return result.data;\n    } catch (error) {\n        console.error(error);\n    }\n\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}