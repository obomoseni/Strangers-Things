{"ast":null,"code":"import _regeneratorRuntime from\"/Users/olapejuomoseni/Test folder/course_work02/Strangers-Things/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/olapejuomoseni/Test folder/course_work02/Strangers-Things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/olapejuomoseni/Test folder/course_work02/Strangers-Things/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import ReactDOM from'react-dom';import{BrowserRouter as Router,Routes,Route,Link}from'react-router-dom';import{getAllPosts,userFunc}from'./api';import{ErrorMessage,Login,Profile,Posts,Home,Register,Logout,Navbar,Title}from\"./components/index\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoggedIn=_useState4[0],setIsLoggedIn=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),token=_useState6[0],setToken=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),user=_useState8[0],setUser=_useState8[1];useEffect(function(){var fetchPosts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var allPosts,profileUser;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getAllPosts();case 2:allPosts=_context.sent;setPosts(allPosts);_context.next=6;return userFunc();case 6:profileUser=_context.sent;console.log(profileUser);setUser(profileUser);case 9:case\"end\":return _context.stop();}}},_callee);}));return function fetchPosts(){return _ref.apply(this,arguments);};}();fetchPosts();},[]);// have a use effect (use for fetching data). Use the use effect to grab the funtion in API\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Title,{}),/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{setToken:setToken})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{setToken:setToken})}),/*#__PURE__*/_jsx(Route,{path:\"/home\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/posts\",element:/*#__PURE__*/_jsx(Posts,{posts:posts,setPosts:setPosts})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(Profile,{user:user})}),/*#__PURE__*/_jsx(Route,{path:\"/logout\",element:/*#__PURE__*/_jsx(Logout,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(ErrorMessage,{})})]})]});};var appElement=document.getElementById('app');var root=ReactDOM.createRoot(appElement);root.render(/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(App,{})}));","map":{"version":3,"names":["React","useState","useEffect","ReactDOM","BrowserRouter","Router","Routes","Route","Link","getAllPosts","userFunc","ErrorMessage","Login","Profile","Posts","Home","Register","Logout","Navbar","Title","App","posts","setPosts","isLoggedIn","setIsLoggedIn","token","setToken","user","setUser","fetchPosts","allPosts","profileUser","console","log","appElement","document","getElementById","root","createRoot","render"],"sources":["/Users/olapejuomoseni/Test folder/course_work02/Strangers-Things/src/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router, Routes, Route, Link } from 'react-router-dom';\nimport { getAllPosts, userFunc } from './api';\nimport { ErrorMessage, Login, Profile, Posts, Home, Register, Logout, Navbar, Title } from \"./components/index\"\n\nconst App = () => {\n    const [posts, setPosts] = useState([]);\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\n    const [token, setToken] = useState(\"\");\n    const [user, setUser] = useState({});\n\n\n    useEffect(() => {\n        const fetchPosts = async () => {\n            const allPosts = await getAllPosts()\n            setPosts(allPosts);\n            const profileUser = await userFunc()\n            console.log(profileUser);\n            setUser(profileUser);\n        }\n        fetchPosts()\n\n    }, [])\n\n    // have a use effect (use for fetching data). Use the use effect to grab the funtion in API\n\n    return (\n        <div>\n                <Title />\n                <Navbar />\n        \n            <Routes>\n                <Route path=\"/login\" element={<Login setToken={setToken} />} />\n                <Route path=\"/register\" element={<Register setToken={setToken} />} />\n                <Route path=\"/home\" element={<Home />} />\n                <Route path=\"/posts\" element={<Posts posts={posts} setPosts={setPosts} />} />\n                <Route path=\"/profile\" element={<Profile user={user} />} />\n                <Route path=\"/logout\" element={<Logout />} />\n                <Route path=\"*\" element={<ErrorMessage />} />\n            </Routes>\n\n\n        </div>\n    );\n}\n\n\n\nlet appElement = document.getElementById('app');\nconst root = ReactDOM.createRoot(appElement);\nroot.render(<Router><App /></Router>);\n\n"],"mappings":"kdAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,SAAP,KAAqB,WAArB,CACA,OAASC,aAAa,GAAIC,OAA1B,CAAkCC,MAAlC,CAA0CC,KAA1C,CAAiDC,IAAjD,KAA6D,kBAA7D,CACA,OAASC,WAAT,CAAsBC,QAAtB,KAAsC,OAAtC,CACA,OAASC,YAAT,CAAuBC,KAAvB,CAA8BC,OAA9B,CAAuCC,KAAvC,CAA8CC,IAA9C,CAAoDC,QAApD,CAA8DC,MAA9D,CAAsEC,MAAtE,CAA8EC,KAA9E,KAA2F,oBAA3F,C,wFAEA,GAAMC,IAAG,CAAG,QAANA,IAAM,EAAM,CACd,cAA0BnB,QAAQ,CAAC,EAAD,CAAlC,wCAAOoB,KAAP,eAAcC,QAAd,eACA,eAAoCrB,QAAQ,CAAC,KAAD,CAA5C,yCAAOsB,UAAP,eAAmBC,aAAnB,eACA,eAA0BvB,QAAQ,CAAC,EAAD,CAAlC,yCAAOwB,KAAP,eAAcC,QAAd,eACA,eAAwBzB,QAAQ,CAAC,EAAD,CAAhC,yCAAO0B,IAAP,eAAaC,OAAb,eAGA1B,SAAS,CAAC,UAAM,CACZ,GAAM2B,WAAU,4FAAG,oLACQpB,YAAW,EADnB,QACTqB,QADS,eAEfR,QAAQ,CAACQ,QAAD,CAAR,CAFe,sBAGWpB,SAAQ,EAHnB,QAGTqB,WAHS,eAIfC,OAAO,CAACC,GAAR,CAAYF,WAAZ,EACAH,OAAO,CAACG,WAAD,CAAP,CALe,sDAAH,kBAAVF,WAAU,0CAAhB,CAOAA,UAAU,GAEb,CAVQ,CAUN,EAVM,CAAT,CAYA;AAEA,mBACI,oCACQ,KAAC,KAAD,IADR,cAEQ,KAAC,MAAD,IAFR,cAII,MAAC,MAAD,yBACI,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,OAAO,cAAE,KAAC,KAAD,EAAO,QAAQ,CAAEH,QAAjB,EAA9B,EADJ,cAEI,KAAC,KAAD,EAAO,IAAI,CAAC,WAAZ,CAAwB,OAAO,cAAE,KAAC,QAAD,EAAU,QAAQ,CAAEA,QAApB,EAAjC,EAFJ,cAGI,KAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,OAAO,cAAE,KAAC,IAAD,IAA7B,EAHJ,cAII,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,OAAO,cAAE,KAAC,KAAD,EAAO,KAAK,CAAEL,KAAd,CAAqB,QAAQ,CAAEC,QAA/B,EAA9B,EAJJ,cAKI,KAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,CAAuB,OAAO,cAAE,KAAC,OAAD,EAAS,IAAI,CAAEK,IAAf,EAAhC,EALJ,cAMI,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,CAAsB,OAAO,cAAE,KAAC,MAAD,IAA/B,EANJ,cAOI,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,OAAO,cAAE,KAAC,YAAD,IAAzB,EAPJ,GAJJ,GADJ,CAkBH,CAvCD,CA2CA,GAAIO,WAAU,CAAGC,QAAQ,CAACC,cAAT,CAAwB,KAAxB,CAAjB,CACA,GAAMC,KAAI,CAAGlC,QAAQ,CAACmC,UAAT,CAAoBJ,UAApB,CAAb,CACAG,IAAI,CAACE,MAAL,cAAY,KAAC,MAAD,wBAAQ,KAAC,GAAD,IAAR,EAAZ"},"metadata":{},"sourceType":"module"}